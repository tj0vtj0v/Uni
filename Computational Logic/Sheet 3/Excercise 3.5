% Spielfeld
tents_in_line(3, 1; 0, 2; 1, 3; 1, 4; 2, 5; 1, 6).
tents_in_row(2, 1; 1, 2; 1, 3; 2, 4; 1, 5; 1, 6).

tree(1, 2; 1, 6; 2, 4; 4, 1; 4, 4; 5, 5; 6, 1; 6, 6).

tile(1..6, 1..6).

{tent(A+X, B+Y) : tree(X, Y), A = -1..1, B=-1..1, A != B, -A != B, A+X > 0, B+Y > 0, A+X <= 6, B+Y <= 6} = 7.



% Alle Zelt kombis bauen, die existieren können
{ptent(X-1..X+1, Y): tree(X, Y); ptent(X, Y-1..Y+1) : tree(X, Y)} = 7.

% grobe fehler ausschließen
tent(X, Y) :- not tree(X, Y), tile(X, Y), ptent(X, Y).

{tent(X, Y)} = N :- tents_in_line(N, Y), tent(X, Y).
{tent(X, Y)} = N :- tents_in_row(N, X), tent(X, Y).







#show tent/2.